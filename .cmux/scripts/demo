#!/usr/bin/env bash
# Description: Demo script to showcase the script execution feature. Accepts no arguments.
set -euo pipefail

# Regular output goes to stdout (visible in console logs)
echo "Running demo script..."
echo "Current workspace: $(pwd)"
echo "Timestamp: $(date)"

# Write formatted output to MUX_OUTPUT for toast display
cat >>"$MUX_OUTPUT" <<'EOF'
## ðŸŽ‰ Script Execution Demo

âœ… Script executed successfully!

**Environment Variables Available:**
- `MUX_OUTPUT`: Custom toast display
- `MUX_PROMPT`: Send messages to agent
EOF

# Write a prompt to MUX_PROMPT to send a message to the agent
cat >>"$MUX_PROMPT" <<'EOF'
The demo script has completed successfully. The script execution feature is working correctly with:
1. Custom toast output via MUX_OUTPUT
2. Agent prompting via MUX_PROMPT

You can now create workspace-specific scripts to automate tasks and interact with the agent.
EOF
